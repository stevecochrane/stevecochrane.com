@import "normalize.css";


/*  --------------------------------------------------
    VARIABLES
    -------------------------------------------------- */

$base-font-size: 15;
$small-font-size: 11;
$base-unit: 24;
$page-width: 1080;
$page-background-color: #eff3f5;
$base-text-color: #537681;
$border-color: fade($base-text-color, 25%);

$mq-medium: screen and (max-width: 800px);
$mq-small: screen and (max-width: 600px);


/*  --------------------------------------------------
    MIXINS
    -------------------------------------------------- */

@define-mixin pie-clearfix {
    &:after {
        content: "";
        display: table;
        clear: both;
    }
}


/*  --------------------------------------------------
    STYLES
    -------------------------------------------------- */

html {
    font-size: calc(($base-font-size / 16) * 1%);

    @media $(mq-medium) {
        font-size: calc((13 / 16) * 1%);
    }
}

body {
    background: $page-background-color;
    color: $base-text-color;
    font-family: "Ideal Sans SSm A", "Ideal Sans SSm B";
    font-size: 100%;
    font-style: normal;
    font-weight: 400;
    line-height: calc(($base-unit / $base-font-size) * 1rem);
    text-rendering: optimizeLegibility;
}

p,
ul,
dl,
dd {
    margin: 0;
    padding: 0;
}

p + p,
p + ul,
ul + p {
    margin-top: calc(($base-unit / $base-font-size) * 1rem);
}

a {
    color: #0a8db8;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.2s;

    &:hover,
    &:focus {
        color: #075c77;
    }
}

header {
    background: #fff;
    box-shadow: 0 1px 8px fade($base-text-color, 25%);
    position: relative;
}

header > div {
    @mixin pie-clearfix;
    max-width: calc(($page-width / $base-font-size) * 1rem)
    margin: 0 auto;
    padding: calc(($base-unit * 1.75) / $base-font-size) 0 calc($base-unit * 0.75rem);

    @media $mq-small {
        padding-top: calc(($base-unit / $base-font-size) * 1rem);
    }
}

header h1 {
    float: left;
    font-family: "Sentinel SSm A", "Sentinel SSm B";
    font-size: 14rem;
    font-style: normal;
    font-weight: 700;
    line-height: calc(($base-unit / $base-font-size) * 1rem);
    margin: 0 calc($base-unit * 0.5rem) 0 percentage(40 / $page-width);
    position: relative;
    top: -2rem;

    @media $mq-small {
        float: none;
        margin: 0;
        text-align: center;
        top: 0;
    }
}

header h2 {
    border-left: 1px solid $border-color;
    color: #9cb7c0;
    float: left;
    font-size: 13rem;
    font-family: "Sentinel SSm A", "Sentinel SSm B";
    font-style: italic;
    font-weight: 400;
    line-height: calc(($base-unit / $base-font-size) * 1rem);
    margin: 0;
    padding-left: calc($base-unit * 0.5rem);
    position: relative;
    top: -1.25rem; // Normally this would be 1 but the extra 0.25 is to ensure it's still -1px when the font-size is reduced

    @media $mq-small {
        border-left: 0;
        float: none;
        line-height: calc($base-unit * 0.5rem);
        margin-bottom: calc(($base-unit / $base-font-size) * 1rem);
        padding: 0;
        text-align: center;
        top: 0;
    }
}

header ul {
    float: right;
    list-style: none;
    margin-right: percentage((40 - ($base-unit * 0.5)) / $page-width); // Subtracts the amount of right padding on header li a

    @media $mq-small {
        float: none;
        margin: 0;
        text-align: center;
    }
}

header li {
    float: left;
    font-size: 13rem;
    line-height: calc(($base-unit / $base-font-size) * 1rem);
    margin: 0;

    @media $mq-small {
        display: inline-block;
        float: none;
    }
}

header li a {
    float: left;
    padding: 0 calc($base-unit * 0.5rem);

    @media $mq-small {
        display: inline-block;
        float: none;
    }
}

header a {
    color: #5a808b;

    &:hover,
    &:focus {
        color: #2b3e43;
    }
}

#main section {
    background: linear-gradient(#bbced3, $page-background-color) no-repeat;
    background-size: 100% 450rem;
}

#main section > div {
    .pie-clearfix();
    max-width: $(page-width)rem;
    margin: 0 auto;
    padding: calc($base-unit * 3rem) 0 calc($base-unit * 4.5rem);

    @media $mq-small {
        padding: calc($base-unit * 2rem) 0 calc($base-unit * 3rem);
    }
}

#main h1 {
    color: #385158;
    font-family: "Sentinel A", "Sentinel B";
    font-size: 32rem;
    font-style: normal;
    font-weight: 700;
    line-height: calc($base-unit * 1.5rem);
    margin: 0 percentage(($base-unit * 2) / $page-width) calc($base-unit * 1.5rem) percentage(($base-unit * 2) / $page-width);
    text-align: center;

    @media $mq-small {
        margin-bottom: calc($base-unit * 1.25rem);
    }
}

#main img {
    box-shadow: 0 1px 8px fade($base-text-color, 25%);
    display: block;
    height: auto;
    margin-top: calc(($base-unit / $base-font-size) * 1rem);
    width: 100%;
}

#main .lazy {
    display: none; // These will be shown again with .show() once the lazy load plugin is initialized in combined.js
}

#main .half-size {
    clear: none;
    float: left;
    margin: 0 0 calc(($base-unit / $base-font-size) * 1rem);
    max-width: percentage((($page-width - $base-unit) * 0.5) / $page-width);
}

#main .half-size-right {
    float: right;
}

/*
    Total page width is 1080, and 1080 / 24 = 45.
    .body-copy: padding-right of 4, width of 21, padding-left of 4.25. 4 + 21 + 4.25 = 29.25.
    .summary: padding-right: of 4.25, width of 11.5. 4.25 + 11.5 = 15.75.
    29.25 + 15.75 = 45.

    This is basically 2/3 to body-copy and 1/3 to summary, though not quite (0.65/0.35), since it started as a total page width of 972,
    and an even amount of whitespace was added to both sides.
*/

.body-copy {
    float: left;
    padding: calc($base-unit * 1.5rem) percentage(($base-unit * 4) / $page-width) 0 percentage(($base-unit * 4.25) / $page-width);
    width: percentage(($base-unit * 21) / $page-width);

    @media $mq-small {
        float: none;
        padding-left: percentage(($base-unit * 3.5) / $page-width);
        padding-right: percentage(($base-unit * 3.5) / $page-width);
        width: auto;
    }
}

.body-copy ul {
    list-style: circle outside;
    padding-left: 17rem;

    @media $(mq-medium) {
        padding-left: 19rem;
    }
}

.body-copy li {
    font-size: 13rem;
    line-height: calc(($base-unit / $base-font-size) * 1rem);
}

.summary {
    float: right;
    padding: calc($base-unit * 1.5rem) percentage(($base-unit * 4.25) / $page-width) 0 0;
    width: percentage(($base-unit * 11.5) / $page-width);

    @media $mq-small {
        float: none;
        padding-right: 0;
        width: auto;
    }
}

.summary dl {
    border-bottom: 1px solid $border-color;
}

.summary dt,
.summary dd {
    font-size: $(small-font-size)rem;
    line-height: 18rem;
}

.summary dt {
    clear: left;
    float: left;
    font-weight: 600;
    padding: 4rem 0 2rem 12rem;
    width: 48rem;

    @media $mq-small {
        padding-left: percentage(($base-unit * 3.5) / $page-width);
    }
}

.summary dd {
    border-top: 1px solid $border-color;
    padding: 2rem calc(($base-unit / $base-font-size) * 1rem) 3rem 0;
}

.button {
    background: #0ca6d8;
    border-radius: 5px;
    box-shadow: inset 0 -1px 0 fade(#000, 25%);
    color: #fff;
    display: inline-block;
    font-size: 14rem;
    line-height: calc(($base-unit / $base-font-size) * 1rem);
    margin-bottom: 4rem;
    padding: 4rem 16rem;
    text-shadow: 0 -1px 0 fade(#000, 25%);

    &:hover,
    &:focus {
        background-color: #0a8db8;
        color: #fff;
    }
}

footer > div {
    border-top: 1px solid $border-color;
    max-width: $(page-width)rem;
    margin: 0 auto;
    padding: calc($base-unit * 0.5rem) 0 calc($base-unit * 1.5rem);
}

footer p {
    color: #7da1ac;
    font-size: $(small-font-size)rem;
    line-height: calc(($base-unit / $base-font-size) * 1rem);
    margin: 0 percentage(40 / $page-width);
    text-align: center;
}
